(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8030dba"],{"06c5":function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));c("fb6a"),c("d3b7"),c("b0c0"),c("a630"),c("3ca3");var r=c("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Object(r["a"])(t,e):void 0}}},"466d":function(t,e,c){"use strict";var r=c("d784"),a=c("825a"),o=c("50c4"),n=c("1d80"),i=c("8aa5"),s=c("14c3");r("match",(function(t,e,c){return[function(e){var c=n(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,c):new RegExp(e)[t](String(c))},function(t){var r=c(e,this,t);if(r.done)return r.value;var n=a(this),l=String(t);if(!n.global)return s(n,l);var d=n.unicode;n.lastIndex=0;var u,b=[],f=0;while(null!==(u=s(n,l))){var p=String(u[0]);b[f]=p,""===p&&(n.lastIndex=i(l,o(n.lastIndex),d)),f++}return 0===f?null:b}]}))},"4df4":function(t,e,c){"use strict";var r=c("0366"),a=c("7b0b"),o=c("9bdd"),n=c("e95a"),i=c("50c4"),s=c("8418"),l=c("35a1");t.exports=function(t){var e,c,d,u,b,f,p=a(t),g="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,j=void 0!==v,O=l(p),m=0;if(j&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==O||g==Array&&n(O))for(e=i(p.length),c=new g(e);e>m;m++)f=j?v(p[m],m):p[m],s(c,m,f);else for(u=O.call(p),b=u.next,c=new g;!(d=b.call(u)).done;m++)f=j?o(u,v,[d.value,m],!0):d.value,s(c,m,f);return c.length=m,c}},"6b75":function(t,e,c){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var c=0,r=new Array(e);c<e;c++)r[c]=t[c];return r}c.d(e,"a",(function(){return r}))},"9bdd":function(t,e,c){var r=c("825a"),a=c("2a62");t.exports=function(t,e,c,o){try{return o?e(r(c)[0],c[1]):e(c)}catch(n){throw a(t),n}}},a630:function(t,e,c){var r=c("23e7"),a=c("4df4"),o=c("1c7e"),n=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:n},{from:a})},b0c0:function(t,e,c){var r=c("83ab"),a=c("9bf2").f,o=Function.prototype,n=o.toString,i=/^\s*function ([^ (]*)/,s="name";r&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch(t){return""}}})},d28b:function(t,e,c){var r=c("746f");r("iterator")},ed84:function(t,e,c){"use strict";c.r(e);c("caad"),c("2532");var r=c("7a23"),a={class:"bg-cover--01"},o={class:"nav-header"},n={"aria-label":"breadcrumb"},i={class:"breadcrumb"},s={class:"breadcrumb-item"},l=Object(r["createTextVNode"])("首頁"),d=Object(r["createVNode"])("li",{class:"breadcrumb-item text-light active","aria-current":"page"}," 商品列表 ",-1),u={class:"container-fluid pb-5 bg-01"},b={id:"main",class:"container-lg content"},f=Object(r["createVNode"])("h2",{class:"pt-4 text-light"},"商品列表",-1),p={class:"mt-4 text-end text-light"},g=Object(r["createTextVNode"])(" 總共有 "),h={id:"productCount"},v=Object(r["createTextVNode"])(" 項商品 "),j={class:"nav-products"},O={class:"nav-products__lists"},m={class:"nav-products__list"},y=Object(r["createVNode"])("span",null,"所有商品",-1),k={class:"row"},N={class:"d-none d-sm-block col-12 col-sm-3 col-md-2 position-relativd"},V={class:"list-group mb-3 mb-sm-0"},C={class:"col-12 col-sm-9 col-md-10"},w={class:"\r\n                row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4\r\n                g-3\r\n                list-unstyled\r\n              "},x={class:"card h-100"},S={class:"card-body"},B={class:"card-title"},A={class:"card-text"},_={key:0,class:"material-icons"},I={key:1,class:"material-icons"},M={key:0,class:"material-icons animate-spin"},F=Object(r["createTextVNode"])(" 加到購物車 ");function D(t,e,c,D,P,T){var L=Object(r["resolveComponent"])("Navbar"),$=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("header",o,[Object(r["createVNode"])(L)]),Object(r["createVNode"])("nav",n,[Object(r["createVNode"])("ol",i,[Object(r["createVNode"])("li",s,[Object(r["createVNode"])($,{class:"text-light",to:"/"},{default:Object(r["withCtx"])((function(){return[l]})),_:1})]),d])]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("main",b,[f,Object(r["createVNode"])("p",p,[g,Object(r["createVNode"])("span",h,Object(r["toDisplayString"])(this.filterProducts.length),1),v]),Object(r["createVNode"])("nav",j,[Object(r["createVNode"])("ul",O,[Object(r["createVNode"])("li",m,[Object(r["createVNode"])("a",{href:"#","aria-current":"true",onClick:e[1]||(e[1]=Object(r["withModifiers"])((function(t){return P.selectCategory=""}),["prevent"])),class:{active:""===P.selectCategory}},[y],2)]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(P.categories,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:"nav-products__list",key:t},[Object(r["createVNode"])("a",{href:"#","aria-current":"true",onClick:Object(r["withModifiers"])((function(e){return P.selectCategory=t}),["prevent"]),class:{active:t===P.selectCategory}},[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(t),1)],10,["onClick"])])})),128))])]),Object(r["createVNode"])("div",k,[Object(r["createVNode"])("div",N,[Object(r["createVNode"])("div",V,[Object(r["createVNode"])("a",{href:"#",class:["list-group-item",{active:""===P.selectCategory}],"aria-current":"true",onClick:e[2]||(e[2]=Object(r["withModifiers"])((function(t){return P.selectCategory=""}),["prevent"]))},"所有商品",2),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(P.categories,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("a",{href:"#",key:t,class:["list-group-item list-group-item-action",{active:t===P.selectCategory}],"aria-current":"true",onClick:Object(r["withModifiers"])((function(e){return P.selectCategory=t}),["prevent"])},Object(r["toDisplayString"])(t),11,["onClick"])})),128))])]),Object(r["createVNode"])("div",C,[Object(r["createVNode"])("ul",w,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(T.filterProducts,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:e,class:"col"},[Object(r["createVNode"])("div",x,[Object(r["createVNode"])($,{to:"/product/".concat(e.id),class:"text-decoration-none stretched-link h-100 card-link"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:e.imageUrl,class:"card-img-top",alt:"item.title"},null,8,["src"]),Object(r["createVNode"])("div",S,[Object(r["createVNode"])("h5",B,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("p",A,Object(r["toDisplayString"])(e.price)+"NTD",1)])]})),_:2},1032,["to"]),Object(r["createVNode"])("a",{class:"card-icon-link",href:"#",onClick:Object(r["withModifiers"])((function(c){return t.addMyFavorite(e.id)}),["prevent"])},[P.myFavorite.includes(e.id)?(Object(r["openBlock"])(),Object(r["createBlock"])("span",_," star ")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",I," star_border "))],8,["onClick"]),Object(r["createVNode"])("button",{onClick:function(t){return T.addCart(e.id)},type:"button",disabled:P.loadingStatus.loadingItem===e.id+1,class:"btn btn-primary btn-sm card-lick__button"},[P.loadingStatus.loadingItem===e.id+1?(Object(r["openBlock"])(),Object(r["createBlock"])("span",M," cached ")):Object(r["createCommentVNode"])("",!0),F],8,["onClick","disabled"])])])})),128))])])])])])])}var P=c("6b75");function T(t){if(Array.isArray(t))return Object(P["a"])(t)}c("a4d3"),c("e01a"),c("d3b7"),c("d28b"),c("3ca3"),c("ddb0"),c("a630");function L(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var $=c("06c5");function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(t){return T(t)||L(t)||Object($["a"])(t)||E()}c("99af"),c("6062"),c("159b"),c("4de4"),c("ac1f"),c("466d");var U=c("d178"),q=c("9fe6"),R={props:["propsCategory"],data:function(){return{loadingStatus:{loadingItem:""},products:[],myFavorite:this.getLocalStorage()||[],categories:[],selectCategory:""}},mixins:[q["a"]],components:{Navbar:U["a"]},inject:["emitter"],methods:{showAlert:function(t){this.$swal(t.data.message)},getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("leolee","/products/all");this.$http.get(e).then((function(e){if(e.data.success){var c=e.data.products;t.products=c,t.getCatgories()}})).catch((function(t){return t}))},addCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus.loadingItem=t+1;var r={data:{product_id:t,qty:c}},a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("leolee","/cart");this.$http.post(a,r).then((function(t){e.loadingStatus.loadingItem="",e.emitter.emit("update-cart"),e.showAlert(t)})).catch((function(t){console.log(t)}))},getCatgories:function(){var t=new Set;this.products.forEach((function(e){t.add(e.category)})),this.categories=J(t),this.selectCategory=this.propsCategory,this.emitter.emit("clearProps")}},computed:{filterProducts:function(){var t=this;return this.products.filter((function(e){return e.category.match(t.selectCategory)}))}},mounted:function(){this.getProducts(),this.topCategory=""}};R.render=D;e["default"]=R},fb6a:function(t,e,c){"use strict";var r=c("23e7"),a=c("861d"),o=c("e8b5"),n=c("23cb"),i=c("50c4"),s=c("fc6a"),l=c("8418"),d=c("b622"),u=c("1dde"),b=u("slice"),f=d("species"),p=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var c,r,d,u=s(this),b=i(u.length),h=n(t,b),v=n(void 0===e?b:e,b);if(o(u)&&(c=u.constructor,"function"!=typeof c||c!==Array&&!o(c.prototype)?a(c)&&(c=c[f],null===c&&(c=void 0)):c=void 0,c===Array||void 0===c))return p.call(u,h,v);for(r=new(void 0===c?Array:c)(g(v-h,0)),d=0;h<v;h++,d++)h in u&&l(r,d,u[h]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-d8030dba.56358f5d.js.map